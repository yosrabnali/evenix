<?xml version="1.0" encoding="UTF-8"?>

<?import javafx.scene.control.*?>
<?import javafx.scene.layout.*?>
<?import javafx.geometry.Insets?>
<?import javafx.scene.text.*?>
<?import javafx.scene.image.*?>

<BorderPane prefHeight="600.0" prefWidth="1000.0" xmlns="http://javafx.com/javafx" xmlns:fx="http://javafx.com/fxml"
            fx:controller="controllers.UserDashboardController" stylesheets="@/css/style1.css">

    <!-- Sidebar -->
    <left>
        <VBox spacing="15" styleClass="sidebar">
            <padding>
                <Insets top="20" right="20" bottom="20" left="20"/>
            </padding>
            <children>
                <!-- Logo de l'application -->
                <ImageView fitHeight="100" fitWidth="100" preserveRatio="true">
                    <image>
                        <Image url="@/images/logo.png" />
                    </image>
                </ImageView>

                <!-- Boutons du menu -->
                <Button fx:id="homeBtn" text="ðŸ  Dashboard" onAction="#goToDashboardPage" styleClass="sidebar-button" />
                <Button fx:id="eventBtn" text="ðŸ“… Ã‰vÃ©nements" styleClass="sidebar-button" />
                <Button fx:id="reclamationBtn" text="ðŸ“ RÃ©clamations"  styleClass="sidebar-button" />
                <Button fx:id="locationBtn" text="ðŸš— Location" styleClass="sidebar-button" />
                <Button fx:id="materialBtn" text="ðŸ›  MatÃ©riel"  styleClass="sidebar-button" />
                <Button fx:id="discussionBtn" text="ðŸ’¬ Discussion"  styleClass="sidebar-button" />

                <!-- Bouton DÃ©connexion -->
                <Button fx:id="logoutBtn" text="ðŸšª DÃ©connexion" onAction="#handleLogout" styleClass="sidebar-button logout" />
            </children>
        </VBox>
    </left>

    <!-- Main Content -->
    <center>
        <VBox spacing="20" styleClass="main-content">
            <padding>
                <Insets top="20" right="20" bottom="20" left="20"/>
            </padding>
            <children>
                <!-- Titre -->
                <Label text="Gestion des Utilisateurs" styleClass="header-label" />

                <!-- Barre de recherche -->
                <HBox spacing="10" alignment="CENTER_LEFT">
                    <TextField fx:id="searchField" promptText="Rechercher un utilisateur..." styleClass="search-field" />
                    <Button fx:id="searchBtn" onAction="#handleSearchUser" styleClass="search-button" text="ðŸ” Rechercher" />
                </HBox>

                <!-- Tableau des utilisateurs -->
                <TableView fx:id="userTable" prefHeight="300.0" prefWidth="750.0" styleClass="user-table">
                    <columns>
                        <TableColumn fx:id="nomColumn" text="Nom" />
                        <TableColumn fx:id="prenomColumn" text="PrÃ©nom" />
                        <TableColumn fx:id="emailColumn" text="Email" />
                        <TableColumn fx:id="telephoneColumn" text="TÃ©lÃ©phone" />
                        <TableColumn fx:id="roleColumn" text="RÃ´le" />
                        <TableColumn fx:id="actionColumn" text="Actions" />
                    </columns>
                </TableView>

                <!-- Pagination -->
                <HBox alignment="CENTER" spacing="15">
                    <Button fx:id="prevPageBtn" onAction="#goToPreviousPage" styleClass="pagination-button" text="â¬… PrÃ©cÃ©dent" />
                    <Label fx:id="pageNumberLabel" text="Page 1" />
                    <Button fx:id="nextPageBtn" onAction="#goToNextPage" styleClass="pagination-button" text="Suivant âž¡" />
                </HBox>

                <!-- Boutons d'actions -->
                <HBox spacing="15" alignment="CENTER">
                    <Button fx:id="addUserButton" onAction="#goToAddUserPage" styleClass="add-user-button" text="âž• Ajouter Utilisateur" />
                    <Button fx:id="exportExcelButton" onAction="#handleExportToExcel" styleClass="export-button" text="ðŸ“Š Exporter en Excel" />
<!--                    <Button fx:id="exportExcelButton" onAction="#exportToExcel" styleClass="export-button" text="ðŸ“Š Exporter en Excel" />-->
                </HBox>

            </children>
        </VBox>
    </center>
</BorderPane>
